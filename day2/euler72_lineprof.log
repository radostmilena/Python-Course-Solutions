30397485.0
Wrote profile results to euler72.py.lprof
Timer unit: 1e-06 s

Total time: 0.011532 s
File: euler72.py
Function: gen_primes at line 4

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
     4                                           @profile
     5                                           def gen_primes(n):
     6         1          4.0      4.0      0.0      l = range(2,n)
     7         1          1.0      1.0      0.0      primes = []
     8       999        680.0      0.7      5.9      for j in range(0,len(l)):
     9       998        651.0      0.7      5.6          p = True
    10      2968       2013.0      0.7     17.5          for d in primes:
    11      2967       3421.0      1.2     29.7              if(d > sqrt(l[j])):
    12       167        114.0      0.7      1.0                  break
    13      2800       2714.0      1.0     23.5              if(l[j] % d == 0):
    14       830        555.0      0.7      4.8                  p = False
    15       830        563.0      0.7      4.9                  break;
    16       998        642.0      0.6      5.6          if(p):
    17       168        173.0      1.0      1.5              primes.append(l[j])
    18                                           
    19         1          1.0      1.0      0.0      return primes

Total time: 0.286306 s
File: euler72.py
Function: factorize at line 21

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    21                                           @profile
    22                                           def factorize(n,primes):
    23      9999       5658.0      0.6      2.0      factors = []
    24      9999       5325.0      0.5      1.9      init_n = n
    25     96347      52805.0      0.5     18.4      for p in primes:
    26    118736      92782.0      0.8     32.4          while(n%p == 0):
    27     22389      14411.0      0.6      5.0              n = n/p
    28     22389      15638.0      0.7      5.5              factors.append(p)
    29     96347      75130.0      0.8     26.2          if(p > sqrt(n)):
    30      9999       5881.0      0.6      2.1              break
    31      9999       6579.0      0.7      2.3      if(n > 1):
    32      9596       6844.0      0.7      2.4          factors.append(n)
    33      9999       5253.0      0.5      1.8      return factors

Total time: 0.590121 s
File: euler72.py
Function: fast_phi at line 50

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    50                                           @profile
    51                                           def fast_phi(n,primes):
    52      9999     514843.0     51.5     87.2      factors = factorize(n,primes)
    53      9999       6765.0      0.7      1.1      phi = factors[0]-1
    54     31985      25649.0      0.8      4.3      for i in range(1,len(factors)):
    55     21986      18044.0      0.8      3.1          if(factors[i] == factors[i-1]):
    56      7685       7947.0      1.0      1.3              phi *= (factors[i]-1)*(factors[i])/(factors[i]-1)
    57                                                   else:
    58     14301      11341.0      0.8      1.9              phi *= (factors[i]-1)
    59      9999       5532.0      0.6      0.9      return phi

